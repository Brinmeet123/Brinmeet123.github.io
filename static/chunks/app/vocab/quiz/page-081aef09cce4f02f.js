(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[183],{4265:function(e,t,r){Promise.resolve().then(r.bind(r,2986))},2986:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var s=r(7437),a=r(2265),l=r(8523),i=r(7648),n=r(630);function o(){let{list:e,save:t,get:r}=(0,n.w)(),[o,c]=(0,a.useState)([]),[d,m]=(0,a.useState)(0),[x,u]=(0,a.useState)(null),[h,g]=(0,a.useState)(!1),[b,p]=(0,a.useState)(0),[f,y]=(0,a.useState)(!1),[j,v]=(0,a.useState)("simple"),N=()=>{let t=e().map(e=>l.AS.find(t=>t.term.toLowerCase()===e.term.toLowerCase())).filter(e=>void 0!==e);0!==t.length&&(c([...t].sort(()=>Math.random()-.5).slice(0,10).map(e=>{let t=l.AS.filter(t=>t.term!==e.term).sort(()=>Math.random()-.5).slice(0,3).map(e=>"simple"===j?e.definitionSimple:e.definitionClinical),r="simple"===j?e.definitionSimple:e.definitionClinical,s=[r,...t].sort(()=>Math.random()-.5),a=s.indexOf(r);return{term:e,options:s,correctIndex:a}})),m(0),u(null),g(!1),p(0),y(!1))};(0,a.useEffect)(()=>{e().length>0&&N()},[j]);let w=e=>{h||u(e)};if(0===e().map(e=>l.AS.find(t=>t.term.toLowerCase()===e.term.toLowerCase())).filter(e=>void 0!==e).length)return(0,s.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Vocabulary Quiz"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"You need to save some terms before you can take a quiz."}),(0,s.jsx)(i.default,{href:"/vocab",className:"inline-block px-6 py-3 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition",children:"Go to My Vocabulary"})]})});if(0===o.length)return(0,s.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Vocabulary Quiz"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"Generating quiz questions..."})]})});if(f){let e=Math.round(b/o.length*100);return(0,s.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Quiz Complete!"}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("p",{className:"text-5xl font-bold text-primary-600 mb-2",children:[e,"%"]}),(0,s.jsxs)("p",{className:"text-lg text-gray-700",children:["You got ",b," out of ",o.length," questions correct!"]})]}),(0,s.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,s.jsx)("button",{onClick:N,className:"px-6 py-3 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition",children:"Take Another Quiz"}),(0,s.jsx)(i.default,{href:"/vocab",className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition",children:"Back to Vocabulary"})]})]})})}let S=o[d],C=(d+1)/o.length*100;return(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Vocabulary Quiz"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"View:"}),(0,s.jsxs)("div",{className:"flex bg-gray-100 rounded-md p-1",children:[(0,s.jsx)("button",{onClick:()=>{v("simple"),N()},className:"px-3 py-1 text-sm font-medium rounded transition ".concat("simple"===j?"bg-white text-primary-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Simple"}),(0,s.jsx)("button",{onClick:()=>{v("clinical"),N()},className:"px-3 py-1 text-sm font-medium rounded transition ".concat("clinical"===j?"bg-white text-primary-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Clinical"})]})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:["Question ",d+1," of ",o.length]}),(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Score: ",b," / ",d+(h?1:0)]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-primary-600 h-2 rounded-full transition-all",style:{width:"".concat(C,"%")}})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 mb-6",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-primary-900 mb-4",children:["What is the definition of ",(0,s.jsx)("span",{className:"text-primary-600",children:S.term.display}),"?"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[(0,s.jsx)("strong",{children:"Why it matters:"})," ",S.term.whyItMatters]})]}),(0,s.jsx)("div",{className:"space-y-3 mb-6",children:S.options.map((e,t)=>{let r=x===t,a=t===S.correctIndex,l=h&&a,i=h&&r&&!a;return(0,s.jsx)("button",{onClick:()=>w(t),disabled:h,className:"w-full text-left p-4 rounded-lg border-2 transition ".concat(l?"border-green-500 bg-green-50":i?"border-red-500 bg-red-50":r?"border-primary-500 bg-primary-50":"border-gray-200 bg-white hover:border-primary-300 hover:bg-gray-50"," ").concat(h?"cursor-default":"cursor-pointer"),children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-6 h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0 ".concat(l?"border-green-500 bg-green-500 text-white":i?"border-red-500 bg-red-500 text-white":r?"border-primary-500 bg-primary-500 text-white":"border-gray-300"),children:l?"✓":i?"\xd7":String.fromCharCode(65+t)}),(0,s.jsx)("span",{className:"text-gray-900",children:e})]})},t)})}),h&&(0,s.jsxs)("div",{className:"p-4 rounded-lg mb-4 ".concat(x===S.correctIndex?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:[(0,s.jsx)("p",{className:"font-medium ".concat(x===S.correctIndex?"text-green-800":"text-red-800"),children:x===S.correctIndex?"✓ Correct!":"✗ Incorrect. The correct answer is: ".concat(S.options[S.correctIndex])}),S.term.exampleSimple&&(0,s.jsxs)("p",{className:"text-sm text-gray-700 mt-2 italic",children:["Example: ",S.term.exampleSimple]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:h?(0,s.jsx)("button",{onClick:()=>{d<o.length-1?(m(d+1),u(null),g(!1)):y(!0)},className:"px-6 py-3 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition",children:d<o.length-1?"Next Question":"Finish Quiz"}):(0,s.jsx)("button",{onClick:()=>{null!==x&&(x===o[d].correctIndex&&p(b+1),g(!0))},disabled:null===x,className:"px-6 py-3 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Submit Answer"})})]})]})}},630:function(e,t,r){"use strict";r.d(t,{w:function(){return i}});var s=r(2265);let a="savedVocab_v1";function l(e){return e.trim().toLowerCase().replace(/\s+/g," ").replace(/[.,;:!?'"()]/g,"").trim()}function i(){let[e,t]=(0,s.useState)({}),[r,i]=(0,s.useState)(!1);(0,s.useEffect)(()=>{try{let e=localStorage.getItem(a);if(e){let r=JSON.parse(e);t(r)}i(!0)}catch(e){console.error("Error loading vocab from localStorage:",e),i(!0)}},[]),(0,s.useEffect)(()=>{if(r)try{let t=JSON.stringify(e);localStorage.setItem(a,t);let r=localStorage.getItem(a);if(r){let e=JSON.parse(r);console.log("localStorage after save:",{keyCount:Object.keys(e).length,keys:Object.keys(e).slice(0,5)})}}catch(e){console.error("Error saving vocab to localStorage:",e)}},[e,r]);let n=(0,s.useCallback)(e=>{if(!e.term||!e.definitionSimple&&!e.definitionClinical)return console.warn("Cannot save: missing term or definitions",e),!1;let r=l(e.term);return t(t=>{let s=t[r],a={...t,[r]:{...e,savedAt:(null==s?void 0:s.savedAt)||Date.now(),timesReviewed:(null==s?void 0:s.timesReviewed)||0}};return console.log("Saved vocab:",{originalTerm:e.term,normalizedKey:r,storeSize:Object.keys(a).length}),a}),!0},[]),o=(0,s.useCallback)(e=>{let r=l(e);t(e=>{let t={...e};return delete t[r],t})},[]);return{save:n,remove:o,has:(0,s.useCallback)(t=>l(t) in e,[e]),list:(0,s.useCallback)(()=>Object.values(e).sort((e,t)=>t.savedAt-e.savedAt),[e]),get:(0,s.useCallback)(t=>e[l(t)],[e]),isLoaded:r,count:Object.keys(e).length}}},7648:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var s=r(2972),a=r.n(s)}},function(e){e.O(0,[972,523,971,117,744],function(){return e(e.s=4265)}),_N_E=e.O()}]);